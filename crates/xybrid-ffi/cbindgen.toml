# cbindgen configuration for xybrid-ffi
# Generates C header from Rust FFI code

language = "C"

# Header guard
include_guard = "XYBRID_H"

# Include a header comment
header = """/*
 * xybrid-ffi - C bindings for the xybrid ML inference SDK
 *
 * This header is auto-generated by cbindgen. Do not modify directly.
 *
 * Usage:
 *   #include "xybrid.h"
 *
 *   int main() {
 *       if (xybrid_init() != 0) {
 *           fprintf(stderr, "Failed to initialize: %s\\n", xybrid_last_error());
 *           return 1;
 *       }
 *
 *       printf("xybrid version: %s\\n", xybrid_version());
 *
 *       XybridModelLoaderHandle* loader = xybrid_model_loader_from_registry("kokoro-82m");
 *       XybridModelHandle* model = xybrid_model_loader_load(loader);
 *       XybridEnvelopeHandle* envelope = xybrid_envelope_text("Hello world");
 *       XybridResultHandle* result = xybrid_model_run(model, envelope);
 *
 *       if (xybrid_result_success(result)) {
 *           printf("Text: %s\\n", xybrid_result_text(result));
 *       }
 *
 *       xybrid_result_free(result);
 *       xybrid_envelope_free(envelope);
 *       xybrid_model_free(model);
 *       xybrid_model_loader_free(loader);
 *
 *       return 0;
 *   }
 */
"""

# Include standard headers
sys_includes = ["stdint.h", "stddef.h", "stdbool.h"]
include_version = true
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"

# Documentation settings
documentation = true
documentation_style = "c"
documentation_length = "full"

# C-specific settings
[export]
# Only export items explicitly marked with #[no_mangle]
# prefix = "xybrid_"

[export.rename]
# Rename types for C convention if needed

[fn]
# Function naming
# prefix = "xybrid_"

[struct]
# Struct naming
rename_fields = "None"
derive_eq = true

[enum]
# Enum naming
rename_variants = "None"
prefix_with_name = true

[parse]
parse_deps = false
