[alias]
xtask = "run --package xtask --"

# Windows MSVC: C++ objects (esaxx-rs, llama_wrapper) are compiled with /MT (static CRT),
# but Rust itself uses /MD (dynamic CRT â†’ MSVCRT.lib). Both /MT and /MD pull in different
# CRT libraries which conflict. Strip the static CRT lib so all CRT symbols resolve from
# the dynamic CRT provided by Rust.
# See: https://github.com/Narsil/esaxx-rs/issues/11
[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "link-args=/NODEFAULTLIB:LIBCMT"]